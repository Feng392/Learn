<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 整理在线玩家和下线玩家(按照上次登录时间排序)
        const input = [
            {
                wxNickName: '张三',
                nickName: '寡人死一次就挂机',
                status: 'online',
                duration: 301241, // 正在游戏的游戏时长: 301241毫秒
                lastLoginTimestamp: 1642940476563, // 上次登录截止时间
            },
            {
                wxNickName: '李四',
                nickName: '苏州科技大学',
                status: 'offline',
                duration: 0,
                lastLoginTimestamp: 1642940126563,
            },
            {
                wxNickName: '王五',
                nickName: 'hide on bush',
                status: 'online',
                duration: 225382,
                lastLoginTimestamp: 1642940123000,
            },
            {
                wxNickName: '刘六',
                nickName: 'Uz1',
                status: 'offline',
                duration: 0,
                lastLoginTimestamp: 1642940517000,
            },
        ];

        const output = {
            online: ['张三', '王五'],
            offline: ['刘六', '李四'],
        };

        // reduce
        function getResult(input) {
            return input.sort((a, b) => b.lastLoginTimestamp - a.lastLoginTimestamp)
                .reduce((prev, current) => {
                    prev[current.status].push(current.wxNickName);
                    return prev;
                }, {online: [],  offline: []});
            // return xxx;
        }
        console.log(getResult(input));

        // 方法2
        // function getNameByStatus(status) {
        //     return input
        //         .filter(item => item.status === status)
        //         .sort((a, b) => b.lastLoginTimestamp - a.lastLoginTimestamp)
        //         .map(item => item.wxNickName);
        // }
        // function getResult(input) {
        //     return {
        //         online:  getNameByStatus('online'),
        //         offline: getNameByStatus('offline'),
        //     }
        // }
        // console.log(getResult(input));
    </script>
</body>

</html>